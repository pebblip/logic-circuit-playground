import type { StructuredLesson } from '../../../../types/lesson-content';

export const fourBitAdderStructuredLesson: StructuredLesson = {
  id: '4bit-adder',
  title: '4ãƒ“ãƒƒãƒˆåŠ ç®—å™¨ - æœ¬æ ¼çš„ãªè¨ˆç®—æ©Ÿ',
  description: '4ãƒ“ãƒƒãƒˆã®æ•°åŒå£«ã‚’è¶³ã—ç®—ã§ãã‚‹å®Ÿç”¨çš„ãªå›è·¯ã‚’ä½œã‚Šã¾ã™',
  icon: 'ğŸ”¢',
  difficulty: 'intermediate',
  prerequisites: ['full-adder'],
  estimatedMinutes: 25,
  steps: [
    {
      id: 'intro',
      instruction: 'å®Ÿç”¨çš„ãªè¨ˆç®—æ©Ÿã‚’ä½œã‚ã†ï¼',
      content: [
        {
          type: 'text',
          text: 'ä»Šå›ã¯0ã€œ15ã¾ã§ã®æ•°ã‚’è¶³ã—ç®—ã§ãã‚‹æœ¬æ ¼çš„ãªå›è·¯ã‚’ä½œã‚Šã¾ã™ï¼',
        },
        {
          type: 'heading',
          text: 'ğŸ¯ ç›®æ¨™',
          icon: 'ğŸ¯',
        },
        {
          type: 'text',
          text: 'ä¾‹ï¼š1010 + 0110 = 10000ï¼ˆ10 + 6 = 16ï¼‰',
        },
        {
          type: 'note',
          text: '4ãƒ“ãƒƒãƒˆã§è¡¨ã›ã‚‹ã®ã¯0ã€œ15ã¾ã§ã€‚16ä»¥ä¸Šã¯5ãƒ“ãƒƒãƒˆç›®ï¼ˆç¹°ã‚Šä¸ŠãŒã‚Šï¼‰ãŒå¿…è¦ï¼',
          icon: 'ğŸ’¡',
        },
      ],
    },
    {
      id: 'binary-review',
      instruction: '4ãƒ“ãƒƒãƒˆ2é€²æ•°ã®å¾©ç¿’',
      content: [
        {
          type: 'heading',
          text: 'ğŸ“Š 4ãƒ“ãƒƒãƒˆã§è¡¨ã›ã‚‹æ•°',
          icon: 'ğŸ“Š',
        },
        {
          type: 'table',
          headers: ['10é€²æ•°', '2é€²æ•°', 'è¨ˆç®—å¼'],
          rows: [
            ['0', '0000', '0Ã—8 + 0Ã—4 + 0Ã—2 + 0Ã—1'],
            ['5', '0101', '0Ã—8 + 1Ã—4 + 0Ã—2 + 1Ã—1'],
            ['10', '1010', '1Ã—8 + 0Ã—4 + 1Ã—2 + 0Ã—1'],
            ['15', '1111', '1Ã—8 + 1Ã—4 + 1Ã—2 + 1Ã—1'],
          ],
        },
        {
          type: 'text',
          text: 'å„æ¡ã®é‡ã¿ã¯å³ã‹ã‚‰ 1, 2, 4, 8 ã§ã™ã€‚',
        },
      ],
    },
    {
      id: 'design-concept',
      instruction: 'è¨­è¨ˆã‚³ãƒ³ã‚»ãƒ—ãƒˆï¼šãƒªãƒƒãƒ—ãƒ«ã‚­ãƒ£ãƒªãƒ¼',
      content: [
        {
          type: 'heading',
          text: 'ğŸ”— å…¨åŠ ç®—å™¨ã‚’4ã¤é€£çµï¼',
          icon: 'ğŸ”—',
        },
        {
          type: 'text',
          text: 'å„æ¡ã®è¨ˆç®—ã‚’å…¨åŠ ç®—å™¨ãŒæ‹…å½“ã—ã€ç¹°ã‚Šä¸ŠãŒã‚ŠãŒæ¬¡ã®æ¡ã«ä¼ã‚ã‚Šã¾ã™ã€‚',
        },
        {
          type: 'list',
          ordered: true,
          items: [
            '1æ¡ç›®ï¼šA0 + B0 â†’ S0, C1',
            '2æ¡ç›®ï¼šA1 + B1 + C1 â†’ S1, C2',
            '3æ¡ç›®ï¼šA2 + B2 + C2 â†’ S2, C3',
            '4æ¡ç›®ï¼šA3 + B3 + C3 â†’ S3, C4',
          ],
        },
        {
          type: 'note',
          text: 'ç¹°ã‚Šä¸ŠãŒã‚ŠãŒæ³¢ã®ã‚ˆã†ã«ä¼ã‚ã‚‹ã®ã§ã€Œãƒªãƒƒãƒ—ãƒ«ï¼ˆæ³¢ç´‹ï¼‰ã€ã‚­ãƒ£ãƒªãƒ¼',
          icon: 'ğŸŒŠ',
        },
      ],
    },
    {
      id: 'simplified-design',
      instruction: 'ä»Šå›ã®ç°¡ç•¥åŒ–ãƒãƒ¼ã‚¸ãƒ§ãƒ³',
      content: [
        {
          type: 'text',
          text: 'å®Ÿéš›ã«4ã¤ã®å…¨åŠ ç®—å™¨ã‚’é…ç½®ã™ã‚‹ã¨è¤‡é›‘ã™ãã‚‹ã®ã§...',
        },
        {
          type: 'heading',
          text: 'ğŸ’¡ ã‚«ã‚¹ã‚¿ãƒ ã‚²ãƒ¼ãƒˆã‚’æ´»ç”¨ï¼',
          icon: 'ğŸ’¡',
        },
        {
          type: 'text',
          text: 'å‰å›ä½œã£ãŸå…¨åŠ ç®—å™¨ã‚’ã‚«ã‚¹ã‚¿ãƒ ã‚²ãƒ¼ãƒˆã¨ã—ã¦ä¿å­˜ã—ã€ãã‚Œã‚’4ã¤ä½¿ã„ã¾ã™ã€‚',
        },
        {
          type: 'note',
          text: 'ã¾ã å…¨åŠ ç®—å™¨ã‚’ä¿å­˜ã—ã¦ã„ãªã„å ´åˆã¯ã€å…ˆã«ä½œæˆã—ã¦ä¿å­˜ã—ã¦ãã ã•ã„',
          icon: 'âš ï¸',
        },
      ],
    },
    {
      id: 'place-number-a',
      instruction: 'æ•°å€¤Aï¼ˆ4ãƒ“ãƒƒãƒˆï¼‰ã®å…¥åŠ›ã‚’é…ç½®',
      hint: '4ã¤ã®INPUTã‚’ç¸¦ã«ä¸¦ã¹ã¦é…ç½®ï¼ˆA3, A2, A1, A0ï¼‰',
      content: [
        {
          type: 'text',
          text: 'ä¸Šã‹ã‚‰é †ã«8ã®ä½ã€4ã®ä½ã€2ã®ä½ã€1ã®ä½ã§ã™ã€‚',
        },
      ],
      action: { type: 'place-gate', gateType: 'INPUT' },
    },
    {
      id: 'place-number-b',
      instruction: 'æ•°å€¤Bï¼ˆ4ãƒ“ãƒƒãƒˆï¼‰ã®å…¥åŠ›ã‚’é…ç½®',
      hint: 'Aã®å³å´ã«ã€åŒã˜ã4ã¤ã®INPUTã‚’é…ç½®ï¼ˆB3, B2, B1, B0ï¼‰',
      content: [],
      action: { type: 'place-gate', gateType: 'INPUT' },
    },
    {
      id: 'place-adders',
      instruction: 'å…¨åŠ ç®—å™¨ï¼ˆã¾ãŸã¯ãã®ä»£æ›¿ï¼‰ã‚’é…ç½®',
      hint: 'ã‚«ã‚¹ã‚¿ãƒ ã‚²ãƒ¼ãƒˆã®å…¨åŠ ç®—å™¨ã‚’4ã¤ã€ã¾ãŸã¯åŸºæœ¬ã‚²ãƒ¼ãƒˆã§æ§‹æˆ',
      content: [
        {
          type: 'text',
          text: 'å„æ¡ã®è¨ˆç®—ã‚’è¡Œã†å…¨åŠ ç®—å™¨ã‚’é…ç½®ã—ã¾ã™ã€‚',
        },
        {
          type: 'note',
          text: 'æœ€ä¸‹ä½ãƒ“ãƒƒãƒˆï¼ˆ1ã®ä½ï¼‰ã¯åŠåŠ ç®—å™¨ã§ã‚‚OKï¼ˆCin=0ã ã‹ã‚‰ï¼‰',
          icon: 'ğŸ’¡',
        },
      ],
      action: { type: 'place-gate', gateType: 'CUSTOM' },
    },
    {
      id: 'place-outputs',
      instruction: 'å‡ºåŠ›ï¼ˆ5ãƒ“ãƒƒãƒˆï¼‰ã‚’é…ç½®',
      hint: '4ã¤ã®å’Œï¼ˆS3ã€œS0ï¼‰ã¨æœ€çµ‚ç¹°ã‚Šä¸ŠãŒã‚Šï¼ˆC4ï¼‰ã®è¨ˆ5ã¤ã®OUTPUT',
      content: [
        {
          type: 'text',
          text: 'çµæœã¯æœ€å¤§5ãƒ“ãƒƒãƒˆï¼ˆ0ã€œ31ï¼‰ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚',
        },
      ],
      action: { type: 'place-gate', gateType: 'OUTPUT' },
    },
    {
      id: 'connect-inputs',
      instruction: 'é…ç·šï¼šå…¥åŠ›ã‚’å„åŠ ç®—å™¨ã¸',
      hint: 'å„æ¡ã®Aã¨Bã‚’å¯¾å¿œã™ã‚‹åŠ ç®—å™¨ã«æ¥ç¶š',
      content: [],
      action: { type: 'connect-wire' },
    },
    {
      id: 'connect-carries',
      instruction: 'é…ç·šï¼šç¹°ã‚Šä¸ŠãŒã‚Šã®é€£é–',
      hint: 'å„åŠ ç®—å™¨ã®Coutã‚’æ¬¡ã®åŠ ç®—å™¨ã®Cinã«æ¥ç¶š',
      content: [
        {
          type: 'text',
          text: 'ç¹°ã‚Šä¸ŠãŒã‚ŠãŒæ¡ã‹ã‚‰æ¡ã¸ã¨ä¼ã‚ã£ã¦ã„ãã¾ã™ã€‚',
        },
      ],
      action: { type: 'connect-wire' },
    },
    {
      id: 'connect-outputs',
      instruction: 'é…ç·šï¼šçµæœã®å‡ºåŠ›',
      hint: 'å„åŠ ç®—å™¨ã®Sumã‚’å¯¾å¿œã™ã‚‹OUTPUTã«æ¥ç¶š',
      content: [],
      action: { type: 'connect-wire' },
    },
    {
      id: 'test-simple',
      instruction: 'ãƒ†ã‚¹ãƒˆ1ï¼šç°¡å˜ãªè¨ˆç®—ï¼ˆ2 + 3ï¼‰',
      content: [
        {
          type: 'text',
          text: 'A = 0010ï¼ˆ2ï¼‰ã€B = 0011ï¼ˆ3ï¼‰ã‚’ã‚»ãƒƒãƒˆ',
        },
        {
          type: 'note',
          text: 'çµæœã¯ 00101ï¼ˆ5ï¼‰ã«ãªã‚‹ã¯ãšã§ã™',
          icon: 'ğŸ¯',
        },
      ],
      action: { type: 'toggle-input' },
    },
    {
      id: 'test-carry',
      instruction: 'ãƒ†ã‚¹ãƒˆ2ï¼šç¹°ã‚Šä¸ŠãŒã‚Šã‚ã‚Šï¼ˆ7 + 9ï¼‰',
      content: [
        {
          type: 'text',
          text: 'A = 0111ï¼ˆ7ï¼‰ã€B = 1001ï¼ˆ9ï¼‰ã‚’ã‚»ãƒƒãƒˆ',
        },
        {
          type: 'note',
          text: 'çµæœã¯ 10000ï¼ˆ16ï¼‰- 5ãƒ“ãƒƒãƒˆç›®ã«ç¹°ã‚Šä¸ŠãŒã‚Šï¼',
          icon: 'ğŸ¯',
        },
      ],
      action: { type: 'toggle-input' },
    },
    {
      id: 'test-max',
      instruction: 'ãƒ†ã‚¹ãƒˆ3ï¼šæœ€å¤§å€¤ï¼ˆ15 + 15ï¼‰',
      content: [
        {
          type: 'text',
          text: 'A = 1111ï¼ˆ15ï¼‰ã€B = 1111ï¼ˆ15ï¼‰ã‚’ã‚»ãƒƒãƒˆ',
        },
        {
          type: 'note',
          text: 'çµæœã¯ 11110ï¼ˆ30ï¼‰ã«ãªã‚Šã¾ã™',
          icon: 'ğŸ¯',
        },
      ],
      action: { type: 'toggle-input' },
    },
    {
      id: 'ripple-effect',
      instruction: 'ã€è¦³å¯Ÿã€‘ãƒªãƒƒãƒ—ãƒ«åŠ¹æœã‚’è¦‹ã‚ˆã†',
      content: [
        {
          type: 'heading',
          text: 'ğŸŒŠ ç¹°ã‚Šä¸ŠãŒã‚Šã®æ³¢',
          icon: 'ğŸŒŠ',
        },
        {
          type: 'text',
          text: '1111 + 0001 ã‚’è¨ˆç®—ã™ã‚‹ã¨...',
        },
        {
          type: 'list',
          ordered: true,
          items: [
            '1æ¡ç›®ï¼š1+1=10 â†’ ç¹°ã‚Šä¸ŠãŒã‚Šç™ºç”Ÿ',
            '2æ¡ç›®ï¼š1+0+1=10 â†’ ã¾ãŸç¹°ã‚Šä¸ŠãŒã‚Š',
            '3æ¡ç›®ï¼š1+0+1=10 â†’ ã•ã‚‰ã«ç¹°ã‚Šä¸ŠãŒã‚Š',
            '4æ¡ç›®ï¼š1+0+1=10 â†’ æœ€å¾Œã‚‚ç¹°ã‚Šä¸ŠãŒã‚Š',
            'çµæœï¼š10000ï¼ˆ16ï¼‰',
          ],
        },
        {
          type: 'note',
          text: 'ç¹°ã‚Šä¸ŠãŒã‚ŠãŒé€£é–çš„ã«ä¼ã‚ã‚‹æ§˜å­ãŒã€Œæ³¢ç´‹ã€ã®ã‚ˆã†ï¼',
          icon: 'ğŸ’«',
        },
      ],
    },
    {
      id: 'real-world',
      instruction: 'ã€å¿œç”¨ã€‘å®Ÿéš›ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ã¯',
      content: [
        {
          type: 'heading',
          text: 'ğŸ’» ç¾ä»£ã®CPU',
          icon: 'ğŸ’»',
        },
        {
          type: 'list',
          ordered: false,
          items: [
            '32ãƒ“ãƒƒãƒˆåŠ ç®—å™¨ï¼šç´„42å„„ã¾ã§ã®æ•°ã‚’è¨ˆç®—',
            '64ãƒ“ãƒƒãƒˆåŠ ç®—å™¨ï¼šç´„1844äº¬ã¾ã§ã®æ•°ã‚’è¨ˆç®—',
            'ä¸¦åˆ—å‡¦ç†ï¼šè¤‡æ•°ã®åŠ ç®—ã‚’åŒæ™‚å®Ÿè¡Œ',
          ],
        },
        {
          type: 'heading',
          text: 'âš¡ é«˜é€ŸåŒ–ã®å·¥å¤«',
          icon: 'âš¡',
        },
        {
          type: 'list',
          ordered: false,
          items: [
            'ã‚­ãƒ£ãƒªãƒ¼ãƒ«ãƒƒã‚¯ã‚¢ãƒ˜ãƒƒãƒ‰ï¼šç¹°ã‚Šä¸ŠãŒã‚Šã‚’äºˆæ¸¬',
            'ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼šè¤‡æ•°ã®è¨ˆç®—ã‚’æµã‚Œä½œæ¥­',
            'SIMDï¼šè¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€åº¦ã«è¨ˆç®—',
          ],
        },
      ],
    },
    {
      id: 'achievement',
      instruction: 'ğŸ‰ 4ãƒ“ãƒƒãƒˆåŠ ç®—å™¨å®Œæˆï¼',
      content: [
        {
          type: 'heading',
          text: 'ğŸ† ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã“ã¨',
          icon: 'ğŸ†',
        },
        {
          type: 'list',
          ordered: false,
          items: [
            'âœ… 0ã€œ15ã®æ•°åŒå£«ã®è¶³ã—ç®—',
            'âœ… ç¹°ã‚Šä¸ŠãŒã‚Šã®é€£é–å‡¦ç†',
            'âœ… 5ãƒ“ãƒƒãƒˆï¼ˆ0ã€œ31ï¼‰ã®çµæœå‡ºåŠ›',
            'âœ… å®Ÿç”¨çš„ãªè¨ˆç®—å›è·¯ã®æ§‹ç¯‰',
          ],
        },
        {
          type: 'note',
          text: 'ã“ã‚ŒãŒã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®è¨ˆç®—ã®åŸºç¤ã§ã™ï¼',
          icon: 'âœ¨',
        },
      ],
    },
    {
      id: 'quiz',
      instruction: 'ç†è§£åº¦ãƒã‚§ãƒƒã‚¯ï¼',
      content: [
        {
          type: 'quiz',
          question: '4ãƒ“ãƒƒãƒˆåŠ ç®—å™¨ã§ 1111 + 0001 ã‚’è¨ˆç®—ã—ãŸçµæœã¯ï¼Ÿ',
          options: ['1111ï¼ˆ15ï¼‰', '0000ï¼ˆ0ï¼‰', '10000ï¼ˆ16ï¼‰', 'ã‚¨ãƒ©ãƒ¼'],
          correctIndex: 2,
        },
      ],
    },
  ],
};
