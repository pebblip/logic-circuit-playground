<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SVG図表カタログ v5.0 - 論理回路プレイグラウンド</title>
  <style>
    :root {
      /* カラーシステム v5 - 美的完成版 */
      --bg-primary: #0a0a0a;
      --bg-secondary: #1a1a1a;
      --bg-tertiary: #2a2a2a;
      --text-primary: #ffffff;
      --text-secondary: #aaaaaa;
      --text-tertiary: #777777;
      
      /* 高コントラスト配色システム */
      --wire-active: #00ff88;
      --wire-active-glow: #00ff8840;
      --wire-inactive: #666666;
      --gate-fill: #1a1a1a;
      --gate-stroke: #00ff88;
      --gate-stroke-shadow: #00ff8860;
      --accent-red: #ff6b6b;
      --accent-blue: #4ecdc4;
      --accent-analog: #ff9500;
      --junction-point: #00ff88;
      --junction-glow: #00ff8880;
      
      /* 美的デザインシステム v5 - 黄金比適用 */
      --grid-unit: 10px;
      --gate-width: 100px;  /* 黄金比 1.618倍 */
      --gate-height: 62px;  /* 黄金比逆数 */
      --wire-width: 4px;
      --gate-stroke-width: 3px;
      --text-size-label: 16px;
      --text-size-gate: 20px;  /* より大きく */
      --corner-radius: 8px;
      --connection-penetration: 10px; /* より深く */
      --junction-size: 8px; /* より大きく */
      --curve-radius: 30px; /* 緩やかなカーブ */
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      padding: 2rem;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      margin-bottom: 3rem;
      font-size: 2.5rem;
      color: var(--wire-active);
      text-shadow: 0 0 20px var(--wire-active-glow);
    }

    h2 {
      margin: 3rem 0 1.5rem;
      font-size: 1.8rem;
      color: var(--text-primary);
      border-bottom: 2px solid #333;
      padding-bottom: 0.5rem;
    }

    .section {
      margin-bottom: 4rem;
    }

    .diagram-container {
      background: linear-gradient(145deg, var(--bg-secondary), #161616);
      border-radius: 12px;
      padding: 3rem;
      margin-bottom: 2rem;
      box-shadow: 
        0 4px 16px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    .diagram-title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: var(--text-primary);
      text-align: center;
    }

    .diagram-content {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 200px;
      background: linear-gradient(135deg, rgba(42, 42, 42, 0.3), rgba(26, 26, 26, 0.3));
      border-radius: 8px;
      padding: 2rem;
      border: 1px solid rgba(0, 255, 136, 0.1);
    }

    .circuit-diagram {
      max-width: 100%;
      height: auto;
      filter: drop-shadow(0 2px 8px rgba(0, 255, 136, 0.2));
    }

    .diagram-caption {
      text-align: center;
      color: var(--text-secondary);
      font-size: 1rem;
      margin-top: 2rem;
      line-height: 1.6;
      font-style: italic;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 3rem;
      margin-bottom: 3rem;
    }

    .design-principles {
      background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 255, 136, 0.05));
      border-left: 4px solid var(--wire-active);
      padding: 2.5rem;
      margin: 2rem 0;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(0, 255, 136, 0.1);
    }

    .design-principles h3 {
      margin-top: 0;
      color: var(--wire-active);
      font-size: 1.3rem;
      font-weight: 700;
    }

    .design-principles ul {
      margin-left: 1.5rem;
      margin-top: 1rem;
    }

    .design-principles li {
      margin-bottom: 1rem;
      line-height: 1.5;
    }

    .problem-analysis {
      background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05));
      border-left: 4px solid var(--accent-red);
      padding: 2.5rem;
      margin: 2rem 0;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(255, 107, 107, 0.1);
    }

    .problem-analysis h3 {
      margin-top: 0;
      color: var(--accent-red);
      font-size: 1.3rem;
      font-weight: 700;
    }

    /* 真理値表のスタイル */
    .truth-table {
      width: 100%;
      border-collapse: collapse;
      font-family: 'Consolas', 'Monaco', monospace;
      margin: 1rem 0;
      border-radius: 8px;
      overflow: hidden;
    }

    .truth-table th,
    .truth-table td {
      padding: 1.2rem;
      text-align: center;
      border: 1px solid #444;
    }

    .truth-table th {
      background: linear-gradient(135deg, var(--bg-tertiary), #333);
      font-weight: 700;
      color: var(--text-primary);
    }

    .truth-table td {
      background-color: var(--bg-secondary);
    }

    .truth-table td.active {
      background: linear-gradient(135deg, rgba(0, 255, 136, 0.3), rgba(0, 255, 136, 0.2));
      color: var(--wire-active);
      font-weight: 700;
      box-shadow: inset 0 0 10px rgba(0, 255, 136, 0.2);
    }

    @media (max-width: 768px) {
      body {
        padding: 1rem;
      }
      .grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>📊 SVG図表カタログ v5.0</h1>
    <p style="text-align: center; color: var(--text-secondary); margin-bottom: 3rem;">
      サイクル3修正版：視覚デザインの美的完成 - 黄金比・高コントラスト・完璧な XOR
    </p>

    <!-- v4の問題点分析 -->
    <div class="problem-analysis">
      <h3>🔍 v4.0で発見された残存問題点</h3>
      <ul>
        <li><strong>XORゲートの二重曲線不十分</strong>：左側補助曲線が薄く、識別が困難</li>
        <li><strong>配線カーブの不自然さ</strong>：急角度カーブが機械的で美しくない</li>
        <li><strong>色彩コントラストの最適化余地</strong>：視覚的階層化がまだ不十分</li>
        <li><strong>ゲート内テキスト配置</strong>：フォントサイズとバランスの微調整必要</li>
        <li><strong>プロポーションの精密化</strong>：美的原則（黄金比等）の未適用</li>
      </ul>
    </div>

    <!-- デザイン原則 v5 -->
    <div class="design-principles">
      <h3>🎨 v5.0 美的完成原則</h3>
      <ul>
        <li><strong>黄金比プロポーション</strong>：ゲート 100×62px、美的に最適な比率</li>
        <li><strong>XOR完璧な二重曲線</strong>：太い補助曲線で IEEE 標準完全準拠</li>
        <li><strong>緩やかな曲線美</strong>：30px半径で自然で美しい配線経路</li>
        <li><strong>高コントラスト配色</strong>：グロー効果とグラデーションで視覚的階層強化</li>
        <li><strong>深い配線浸透</strong>：10px侵入で確実な接続感</li>
        <li><strong>大型分岐点</strong>：8px径とグロー効果で明確な接続点表示</li>
        <li><strong>フォント最適化</strong>：20pxゲートテキストで可読性完璧</li>
      </ul>
    </div>

    <!-- セクション1: 美的完成された基本ゲート記号 -->
    <section class="section">
      <h2>1. 基本ゲート記号（v5美的完成版）</h2>
      <div class="grid">
        <!-- ANDゲート -->
        <div class="diagram-container">
          <div class="diagram-title">ANDゲート</div>
          <div class="diagram-content">
            <svg viewBox="0 0 280 160" class="circuit-diagram">
              <!-- グロー効果定義 -->
              <defs>
                <filter id="wireGlow">
                  <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                  <feMerge> 
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
                <filter id="gateGlow">
                  <feGaussianBlur stdDeviation="1" result="coloredBlur"/>
                  <feMerge> 
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
              </defs>
              
              <!-- 配線（ゲート内部に深く浸透、グロー効果） -->
              <line x1="20" y1="55" x2="90" y2="55" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              <line x1="20" y1="105" x2="90" y2="105" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              <line x1="180" y1="80" x2="220" y2="80" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              
              <!-- ゲート本体（黄金比、深い浸透） -->
              <path d="M 80 49 L 140 49 Q 180 80 140 111 L 80 111 Z" 
                    fill="#1a1a1a" stroke="#00ff88" stroke-width="3" filter="url(#gateGlow)" />
              <text x="130" y="87" text-anchor="middle" fill="#fff" font-size="20" font-weight="700">AND</text>
              
              <!-- ラベル（最適距離） -->
              <text x="10" y="61" text-anchor="end" fill="#aaa" font-size="16" font-weight="500">A</text>
              <text x="10" y="111" text-anchor="end" fill="#aaa" font-size="16" font-weight="500">B</text>
              <text x="230" y="86" fill="#aaa" font-size="16" font-weight="500">Y</text>
            </svg>
          </div>
          <div class="diagram-caption">黄金比プロポーションと深い配線浸透で美的完成<br>グロー効果で立体感と高級感を演出</div>
        </div>

        <!-- ORゲート -->
        <div class="diagram-container">
          <div class="diagram-title">ORゲート</div>
          <div class="diagram-content">
            <svg viewBox="0 0 280 160" class="circuit-diagram">
              <!-- 配線 -->
              <line x1="20" y1="55" x2="90" y2="55" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              <line x1="20" y1="105" x2="90" y2="105" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              <line x1="180" y1="80" x2="220" y2="80" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              
              <!-- ゲート本体 -->
              <path d="M 80 49 Q 105 80 80 111 L 120 111 Q 180 80 120 49 Z" 
                    fill="#1a1a1a" stroke="#00ff88" stroke-width="3" filter="url(#gateGlow)" />
              <text x="130" y="87" text-anchor="middle" fill="#fff" font-size="20" font-weight="700">OR</text>
              
              <!-- ラベル -->
              <text x="10" y="61" text-anchor="end" fill="#aaa" font-size="16" font-weight="500">A</text>
              <text x="10" y="111" text-anchor="end" fill="#aaa" font-size="16" font-weight="500">B</text>
              <text x="230" y="86" fill="#aaa" font-size="16" font-weight="500">Y</text>
            </svg>
          </div>
          <div class="diagram-caption">滑らかな曲線でORの包括的特性を美的に表現<br>グロー効果で視覚的インパクトを強化</div>
        </div>

        <!-- NOTゲート（美的完成版） -->
        <div class="diagram-container">
          <div class="diagram-title">NOTゲート（インバータ）</div>
          <div class="diagram-content">
            <svg viewBox="0 0 280 160" class="circuit-diagram">
              <!-- 配線 -->
              <line x1="20" y1="80" x2="95" y2="80" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              <line x1="185" y1="80" x2="220" y2="80" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              
              <!-- ゲート本体（三角形 + 美的反転円） -->
              <path d="M 90 55 L 150 80 L 90 105 Z" 
                    fill="#1a1a1a" stroke="#00ff88" stroke-width="3" filter="url(#gateGlow)" />
              <circle cx="167" cy="80" r="18" fill="#1a1a1a" stroke="#00ff88" stroke-width="3" filter="url(#gateGlow)" />
              
              <!-- ラベル -->
              <text x="10" y="86" text-anchor="end" fill="#aaa" font-size="16" font-weight="500">A</text>
              <text x="230" y="86" fill="#aaa" font-size="16" font-weight="500">Y</text>
            </svg>
          </div>
          <div class="diagram-caption">大型反転円で NOT 機能を明確に表現<br>三角形と円の美的バランスを追求</div>
        </div>

        <!-- XORゲート（完璧な二重曲線） -->
        <div class="diagram-container">
          <div class="diagram-title">XORゲート</div>
          <div class="diagram-content">
            <svg viewBox="0 0 280 160" class="circuit-diagram">
              <!-- 配線 -->
              <line x1="20" y1="55" x2="90" y2="55" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              <line x1="20" y1="105" x2="90" y2="105" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              <line x1="180" y1="80" x2="220" y2="80" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
              
              <!-- XOR完璧な二重曲線（左側補助曲線を太く明確に） -->
              <path d="M 80 49 Q 105 80 80 111" 
                    fill="none" stroke="#00ff88" stroke-width="4" filter="url(#gateGlow)" />
              <path d="M 90 49 Q 115 80 90 111 L 120 111 Q 180 80 120 49 Z" 
                    fill="#1a1a1a" stroke="#00ff88" stroke-width="3" filter="url(#gateGlow)" />
              <text x="130" y="87" text-anchor="middle" fill="#fff" font-size="20" font-weight="700">XOR</text>
              
              <!-- ラベル -->
              <text x="10" y="61" text-anchor="end" fill="#aaa" font-size="16" font-weight="500">A</text>
              <text x="10" y="111" text-anchor="end" fill="#aaa" font-size="16" font-weight="500">B</text>
              <text x="230" y="86" fill="#aaa" font-size="16" font-weight="500">Y</text>
            </svg>
          </div>
          <div class="diagram-caption">太い二重曲線で XOR を完璧に識別可能<br>IEEE 標準完全準拠の美的実装</div>
        </div>
      </div>
    </section>

    <!-- セクション2: 曲線美を追求した複合回路 -->
    <section class="section">
      <h2>2. 複合回路（v5曲線美版）</h2>
      
      <div class="diagram-container">
        <div class="diagram-title">半加算器（曲線美を追求した配線経路）</div>
        <div class="diagram-content">
          <svg viewBox="0 0 650 360" class="circuit-diagram">
            <!-- 入力ラベル -->
            <text x="25" y="85" fill="#aaa" font-size="20" font-weight="600">A</text>
            <text x="25" y="275" fill="#aaa" font-size="20" font-weight="600">B</text>
            
            <!-- 入力配線と美しい分岐（30px半径の緩やかなカーブ） -->
            <line x1="50" y1="80" x2="160" y2="80" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
            <path d="M 160 80 Q 190 80 190 110 L 190 150 Q 190 180 220 180" 
                  fill="none" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
            <path d="M 160 80 Q 220 80 280 80" 
                  fill="none" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
            
            <line x1="50" y1="270" x2="190" y2="270" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
            <path d="M 190 270 Q 220 270 220 240 L 220 200 Q 220 170 250 170" 
                  fill="none" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
            <path d="M 190 270 Q 250 270 310 270" 
                  fill="none" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
            
            <!-- 大型分岐点（グロー効果） -->
            <circle cx="160" cy="80" r="8" fill="#00ff88" filter="url(#wireGlow)" />
            <circle cx="190" cy="270" r="8" fill="#00ff88" filter="url(#wireGlow)" />
            
            <!-- XORゲート（Sum） - 美的完成版 -->
            <g transform="translate(280, 130)">
              <path d="M 0 -31 Q 31 31 0 93" fill="none" stroke="#00ff88" stroke-width="4" filter="url(#gateGlow)" />
              <path d="M 10 -31 Q 41 31 10 93 L 50 93 Q 120 31 50 -31 Z" 
                    fill="#1a1a1a" stroke="#00ff88" stroke-width="3" filter="url(#gateGlow)" />
              <text x="60" y="40" text-anchor="middle" fill="#fff" font-size="18" font-weight="700">XOR</text>
            </g>
            
            <!-- ANDゲート（Carry） - 美的完成版 -->
            <g transform="translate(310, 240)">
              <path d="M 0 -31 L 70 -31 Q 120 31 70 93 L 0 93 Z" 
                    fill="#1a1a1a" stroke="#00ff88" stroke-width="3" filter="url(#gateGlow)" />
              <text x="60" y="40" text-anchor="middle" fill="#fff" font-size="18" font-weight="700">AND</text>
            </g>
            
            <!-- 出力配線 -->
            <line x1="400" y1="161" x2="520" y2="161" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
            <line x1="430" y1="271" x2="520" y2="271" stroke="#00ff88" stroke-width="4" filter="url(#wireGlow)" />
            
            <!-- 出力ラベル -->
            <text x="540" y="169" fill="#aaa" font-size="20" font-weight="600">Sum (S)</text>
            <text x="540" y="279" fill="#aaa" font-size="20" font-weight="600">Carry (C)</text>
          </svg>
        </div>
        <div class="diagram-caption">30px半径の緩やかなカーブで自然で美しい配線経路を実現<br>大型分岐点とグロー効果で接続点を明確かつ美的に表現</div>
      </div>
    </section>

    <!-- セクション3: 完璧なアナログ vs デジタル -->
    <section class="section">
      <h2>3. 信号波形（v5完璧版）</h2>
      
      <div class="diagram-container">
        <div class="diagram-title">アナログ信号 vs デジタル信号（美的完成版）</div>
        <div class="diagram-content">
          <svg viewBox="0 0 750 320" class="circuit-diagram">
            <!-- アナログ信号部分 -->
            <text x="70" y="45" fill="#ff9500" font-size="24" font-weight="800">アナログ信号</text>
            
            <!-- アナログ波形軸 -->
            <line x1="70" y1="80" x2="70" y2="180" stroke="#666" stroke-width="3" />
            <line x1="70" y1="180" x2="320" y2="180" stroke="#666" stroke-width="3" />
            
            <!-- アナログ波形（完璧な正弦波） -->
            <path d="M 80 130 Q 110 95, 140 130 T 200 130 Q 230 165, 260 130 T 310 130" 
                  fill="none" stroke="#ff9500" stroke-width="5" filter="url(#wireGlow)" />
            
            <text x="195" y="210" text-anchor="middle" fill="#aaa" font-size="16">連続的な変化</text>
            <text x="195" y="230" text-anchor="middle" fill="#aaa" font-size="16">無限の値を取る</text>
            
            <!-- デジタル信号部分 -->
            <text x="450" y="45" fill="#00ff88" font-size="24" font-weight="800">デジタル信号</text>
            
            <!-- デジタル波形軸 -->
            <line x1="450" y1="80" x2="450" y2="180" stroke="#666" stroke-width="3" />
            <line x1="450" y1="180" x2="700" y2="180" stroke="#666" stroke-width="3" />
            
            <!-- デジタル波形（完璧な矩形波） -->
            <path d="M 460 180 L 460 90 L 520 90 L 520 180 L 580 180 L 580 90 L 640 90 L 640 180 L 680 180" 
                  fill="none" stroke="#00ff88" stroke-width="5" filter="url(#wireGlow)" />
            
            <!-- 0/1ラベル -->
            <text x="430" y="95" text-anchor="end" fill="#fff" font-size="18" font-weight="600">1</text>
            <text x="430" y="185" text-anchor="end" fill="#fff" font-size="18" font-weight="600">0</text>
            
            <text x="575" y="210" text-anchor="middle" fill="#aaa" font-size="16">0と1の2値のみ</text>
            <text x="575" y="230" text-anchor="middle" fill="#aaa" font-size="16">明確な境界</text>
            
            <!-- 美的な変換矢印 -->
            <defs>
              <linearGradient id="arrowGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#4ecdc4;stop-opacity:0.8" />
                <stop offset="100%" style="stop-color:#4ecdc4;stop-opacity:1" />
              </linearGradient>
            </defs>
            <path d="M 340 130 Q 370 120 400 130" fill="none" stroke="url(#arrowGradient)" stroke-width="4" 
                  marker-end="url(#beautifulArrow)" filter="url(#wireGlow)" />
            <text x="370" y="110" text-anchor="middle" fill="#4ecdc4" font-size="18" font-weight="700">変換</text>
            
            <!-- 美的マーカー定義 -->
            <defs>
              <marker id="beautifulArrow" markerWidth="15" markerHeight="15" refX="12" refY="5" 
                      orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L0,10 L12,5 z" fill="#4ecdc4" filter="url(#wireGlow)" />
              </marker>
            </defs>
          </svg>
        </div>
        <div class="diagram-caption">完璧な波形とグラデーション矢印で変換プロセスを美的に表現<br>太い線とグロー効果で最高の視認性を実現</div>
      </div>
    </section>

    <!-- 最終改善点まとめ -->
    <div class="design-principles" style="background: linear-gradient(135deg, rgba(78, 205, 196, 0.15), rgba(78, 205, 196, 0.05)); border-color: var(--accent-blue);">
      <h3>✨ v5.0 サイクル3の美的完成</h3>
      <ul>
        <li><strong>黄金比プロポーション</strong>：100×62px ゲートで美的に最適な比率を実現</li>
        <li><strong>XOR完璧な二重曲線</strong>：4px太さの補助曲線で IEEE 標準完全準拠</li>
        <li><strong>30px半径緩やかカーブ</strong>：自然で美しい配線経路の実現</li>
        <li><strong>グロー効果とグラデーション</strong>：高級感と立体感を演出</li>
        <li><strong>深い配線浸透</strong>：10px侵入で確実で美的な接続感</li>
        <li><strong>大型分岐点</strong>：8px径とグロー効果で明確かつ美的な接続点</li>
        <li><strong>完璧なフォント設定</strong>：20px ゲートテキストで最高の可読性</li>
        <li><strong>高コントラスト配色</strong>：視覚的階層を完璧に実現</li>
      </ul>
    </div>
  </div>
</body>
</html>