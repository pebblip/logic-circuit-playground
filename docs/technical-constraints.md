# 技術的制約ドキュメント

## 🚨 時間依存テストの偶発的失敗

### **制約内容**

- **影響テスト**: `tests/integration/all-gallery-circuits-comprehensive.test.ts`
- **症状**: CLOCK駆動回路テスト（fibonacci-counter等）の偶発的失敗
- **失敗率**: 1-5%（環境依存）

### **根本原因**

1. **CLOCK回路の時間依存性**

   - fibonacci-counter: 1.667Hz（600ms周期）
   - D-FFエッジ検出タイミングの非決定性
   - テスト待機時間（2.5秒）vs実際のCLOCK周期のズレ

2. **テスト環境要因**
   - 統合テスト並列実行によるリソース競合
   - CI環境の負荷変動
   - JavaScript非同期処理のタイミング

### **技術的限界**

- **100%決定的実行は不可能**: リアルタイムCLOCK回路の性質上
- **環境依存性**: マシン性能、負荷状況に左右される
- **並列実行制約**: 複数テスト同時実行での競合

### **対処法**

- 個別テストでの機能検証（安定）
- 受容可能な失敗率として扱う
- CI/CDでのリトライ機構

### **記録日時**

2025-06-24

---

## 📋 その他の技術的制約

今後発見された制約をここに追記する。
